gplink-1.7.0_beta1 (Apr 28 2016)
Listing File Generated: 2018-8-25  17:02:49
 
 
Address  Value    Disassembly              Source
-------  -----    -----------              ------
                                           ;++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
                                           ;
                                           ;  	ProjName   	 WF76D
                                           ;  	MCU Info   	  MC30P6060
                                           ;  	   	   	   	|>  No reset volatage
                                           ;  	   	   	   	|> 	WDT clock enable 288ms
                                           ;  	   	   	   	|> 	Crystal 8M 2T
                                           ;  	Date   	   	2018.08.25
                                           ;  	Author 	   	DS.Chin
                                           ;  	Version	   	0.0
                                           ;  	Brief  	   	the initial version
                                           ;
                                           ;++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
                                           #include "mc30P6060.inc"
                                                   
                                           ;MC30P6060.INC  Standard Header File, Version 1.00 by Sinomcu
                                                   
                                           
                                           
                                           ;==========================================================================
                                           ;
                                           ;       Revision History
                                           ;
                                           ;==========================================================================
                                           
                                           ;Rev:   Date:    Reason:
                                           
                                           ;1.00   12/06/21 Initial Release
                                           
                                           ;==========================================================================
                                           ;
                                           ;       Verify Processor
                                           ;
                                           ;==========================================================================
                                           ;==========================================================================
                                           ;
                                           ;       Register Definitions
                                           ;
                                           ;==========================================================================
                                           
                                           ;----- Register Files------------------------------------------------------
                                           
                                           INDF                         EQU     H'0000'
                                           T0CNT                        EQU     H'0001'
                                           PCL                          EQU     H'0002'
                                           STATUS                       EQU     H'0003'
                                           FSR                          EQU     H'0004'
                                           P0                           EQU     H'0005'
                                           P1                           EQU     H'0006'
                                           MCR                          EQU     H'0008'
                                           KBIM                         EQU     H'0009'
                                           PCLATH                       EQU     H'000A'
                                           PDCON                        EQU     H'000B'
                                           ODCON                        EQU     H'000C'
                                           PUCON                        EQU     H'000D'
                                           INTECON                      EQU     H'000E'
                                           INTFLAG                      EQU     H'000F'
                                           T0CR                         EQU     H'0041'
                                           DDR0                         EQU     H'0045'
                                           DDR1         	               EQU     H'0046'
                                           PWMCR                        EQU     H'0048'
                                           T1DATA1                      EQU     H'0049'
                                           T1DATA2                   	 EQU     H'004A'
                                           TM0CR                        EQU     H'004B'
                                           T1CR                         EQU     H'004C'
                                           T1CNT                        EQU     H'004D'
                                           T1LOAD                       EQU     H'004E'
                                           T1DATA0                      EQU     H'004F'
                                           
                                           ;INDF 
                                           #define         INDF7          INDF,7
                                           #define         INDF6          INDF,6
                                           #define         INDF5          INDF,5
                                           #define         INDF4          INDF,4
                                           #define         INDF3          INDF,3
                                           #define         INDF2          INDF,2
                                           #define         INDF1          INDF,1
                                           #define         INDF0          INDF,0
                                           
                                           ;T0CNT 
                                           #define         T0C7           T0CNT,7
                                           #define         T0C6           T0CNT,6
                                           #define         T0C5           T0CNT,5
                                           #define         T0C4           T0CNT,4
                                           #define         T0C3           T0CNT,3
                                           #define         T0C2           T0CNT,2
                                           #define         T0C1           T0CNT,1
                                           #define         T0C0           T0CNT,0
                                           
                                           ;PCL 
                                           #define         PC7             PCL,7
                                           #define         PC6             PCL,6
                                           #define         PC5             PCL,5
                                           #define         PC4             PCL,4
                                           #define         PC3             PCL,3
                                           #define         PC2             PCL,2
                                           #define         PC1             PCL,1
                                           #define         PC0             PCL,0
                                           
                                           ;----- STATUS Bits --------------------------------------------------------
                                           #define	RST	STATUS,7
                                           #define	TO	STATUS,4
                                           #define	PD	STATUS,3
                                           #define	Z	  STATUS,2
                                           #define	DC	STATUS,1
                                           #define	C	  STATUS,0
                                           
                                           ;FSR 
                                           #define         FSR5           FSR,5
                                           #define         FSR4           FSR,4
                                           #define         FSR3           FSR,3
                                           #define         FSR2           FSR,2
                                           #define         FSR1           FSR,1
                                           #define         FSR0           FSR,0
                                           
                                           ;P0 
                                           #define         P03D           P0,3
                                           #define         P02D           P0,2
                                           #define         P01D           P0,1
                                           #define         P00D           P0,0
                                           
                                           ;P1 
                                           #define         P17D           P1,7
                                           #define         P16D           P1,6
                                           #define         P15D           P1,5
                                           #define         P14D           P1,4
                                           #define         P13D           P1,3
                                           #define         P12D           P1,2
                                           #define         P11D           P1,1
                                           #define         P10D           P1,0
                                           
                                           ;----- MCR Bits --------------------------------------------------------
                                           #define	WDTEN	    MCR,7
                                           #define	EIS	      MCR,6
                                           #define	LVDF	    MCR,5
                                           #define	LVDSEL3	  MCR,4
                                           #define	LVDSEL2	  MCR,3
                                           #define	LVDSEL1	  MCR,2
                                           #define	LVDSEL0	  MCR,1
                                           #define	LVDEN	    MCR,0
                                           
                                           ;KBIM 
                                           #define         KBIM5           KBIM,5
                                           #define         KBIM4           KBIM,4
                                           #define         KBIM3           KBIM,3
                                           #define         KBIM2           KBIM,2
                                           #define         KBIM1           KBIM,1
                                           #define         KBIM0           KBIM,0
                                           
                                           ;----- PCLATH Bits --------------------------------------------------------
                                           #define	PCH1	  PCLATH,1
                                           #define	PCH0	  PCLATH,0
                                           
                                           ;PDCON
                                           #define         P12PD           PDCON,6
                                           #define         P11PD           PDCON,5
                                           #define         P10PD           PDCON,4
                                           #define         P03PD           PDCON,3
                                           #define         P02PD           PDCON,2
                                           #define         P01PD           PDCON,1
                                           #define         P00PD           PDCON,0
                                           
                                           ;ODCON
                                           #define         P17OD           ODCON,7
                                           #define         P16OD           ODCON,6
                                           #define         P15OD           ODCON,5
                                           #define         P14OD           ODCON,4
                                           #define         P12OD           ODCON,2
                                           #define         P11OD           ODCON,1
                                           #define         P10OD           ODCON,0
                                           
                                           ;PUCON
                                           #define         P17PU           PUCON,7
                                           #define         P16PU           PUCON,6
                                           #define         P15PU           PUCON,5
                                           #define         P14PU           PUCON,4
                                           #define         P12PU           PUCON,2
                                           #define         P11PU           PUCON,1
                                           #define         P10PU           PUCON,0
                                           
                                           ;----- INTECON Bits --------------------------------------------------------
                                           #define	INTE	  INTECON
                                           #define	GIE	    INTECON,7
                                           #define	INTIE	  INTECON,2
                                           #define	KBIE	  INTECON,1
                                           #define	T0IE	  INTECON,0
                                           
                                           ;----- INTFLAG Bits --------------------------------------------------------
                                           #define	INTF	  INTFLAG
                                           #define	INTIF	  INTF,2
                                           #define	KBIF	  INTF,1
                                           #define	T0IF	  INTF,0
                                           
                                           ;----- T0CR Bits --------------------------------------------------------
                                           #define         INT0M           T0CR,6
                                           #define         T0PTS           T0CR,5
                                           #define         T0SE            T0CR,4
                                           #define         T0PTA           T0CR,3
                                           #define         T0PR2           T0CR,2
                                           #define         T0PR1           T0CR,1
                                           #define         T0PR0           T0CR,0
                                           
                                           ;DDR0
                                           #define         DDR03           DDR0,3
                                           #define         DDR02           DDR0,2
                                           #define         DDR01           DDR0,1
                                           #define         DDR00           DDR0,0
                                           
                                           ;DDR1
                                           #define         DDR17           DDR1,7
                                           #define         DDR16           DDR1,6
                                           #define         DDR15           DDR1,5
                                           #define         DDR14           DDR1,4
                                           #define         DDR13           DDR1,3
                                           #define         DDR12           DDR1,2
                                           #define         DDR11           DDR1,1
                                           #define         DDR10           DDR1,0
                                           
                                           ;PWMCR
                                           #define         PMW0OE          PWMCR,7
                                           #define         PWM1OE          PWMCR,6
                                           #define         PWM2OE          PWMCR,5
                                           #define         DBLCK           PWMCR,4
                                           #define         PWMMD           PWMCR,3
                                           #define         PWMINV          PWMCR,2
                                           #define         PMW1E           PWMCR,1
                                           #define         PWM2E           PWMCR,0
                                           
                                           ;T1DATA1
                                           #define T1DATA17   T1DATA1,7
                                           #define T1DATA16   T1DATA1,6
                                           #define T1DATA15   T1DATA1,5
                                           #define T1DATA14   T1DATA1,4
                                           #define T1DATA13   T1DATA1,3
                                           #define T1DATA12   T1DATA1,2
                                           #define T1DATA11   T1DATA1,1
                                           #define T1DATA10   T1DATA1,0
                                           
                                           ;T1DATA2
                                           #define T1DATA27   T1DATA2,7
                                           #define T1DATA26   T1DATA2,6
                                           #define T1DATA25   T1DATA2,5
                                           #define T1DATA24   T1DATA2,4
                                           #define T1DATA23   T1DATA2,3
                                           #define T1DATA22   T1DATA2,2
                                           #define T1DATA21   T1DATA2,1
                                           #define T1DATA20   T1DATA2,0
                                           
                                           ;------TM0CR -----------------
                                           #define TBS     TM0CR,7
                                           #define T1IE    TM0CR,1
                                           #define T1IF    TM0CR,0
                                           
                                           ;-------T1CR----------
                                           #define TC1EN    T1CR,7
                                           #define PWM0E    T1CR,6
                                           #define BUZE     T1CR,5
                                           #define T1PTS1   T1CR,4
                                           #define T1PTS0   T1CR,3
                                           #define T1PR2    T1CR,2
                                           #define T1PR1    T1CR,1
                                           #define T1PR0    T1CR,0
                                           
                                           ;T1CNT
                                           #define T1C7   T1CNT,7
                                           #define T1C6   T1CNT,6
                                           #define T1C5   T1CNT,5
                                           #define T1C4   T1CNT,4
                                           #define T1C3   T1CNT,3
                                           #define T1C2   T1CNT,2
                                           #define T1C1   T1CNT,1
                                           #define T1C0   T1CNT,0
                                           
                                           ;T1LOAD
                                           #define T1LOAD7   T1LOAD,7
                                           #define T1LOAD6   T1LOAD,6
                                           #define T1LOAD5   T1LOAD,5
                                           #define T1LOAD4   T1LOAD,4
                                           #define T1LOAD3   T1LOAD,3
                                           #define T1LOAD2   T1LOAD,2
                                           #define T1LOAD1   T1LOAD,1
                                           #define T1LOAD0   T1LOAD,0
                                           
                                           ;T1DATA0
                                           #define T1DATA07   T1DATA0,7
                                           #define T1DATA06   T1DATA0,6
                                           #define T1DATA05   T1DATA0,5
                                           #define T1DATA04   T1DATA0,4
                                           #define T1DATA03   T1DATA0,3
                                           #define T1DATA02   T1DATA0,2
                                           #define T1DATA01   T1DATA0,1
                                           #define T1DATA00   T1DATA0,0
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; Port Define
                                           #define	   	PORT_SWITCH_1  	   	  P1,4
                                           #define     PORT_SWITCH_2         P1,5
                                           #define	   	PORT_KEY_1 	   	   	  P1,0
                                           #define     PORT_KEY_2            P1,1
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; Parameters
                                           cblock    0x10
                                           StatusTemp
                                           AccTemp
                                           
                                           WorkFlag
                                           WorkFlag1
                                           
                                           LowTime1
                                           HighTime1
                                           LowTime2
                                           HighTime2
                                           
                                           PowerLowTime
                                           PowerHighTime
                                           
                                           ResetTime1
                                           ResetTime2
                                           
                                           
                                           ResetTime1_1
                                           ResetTime2_1
                                           ResetTime1_2
                                           ResetTime2_2
                                           KeyNum1
                                           KeyNum2
                                           KeyTime1
                                           KeyTime2
                                           
                                           
                                           endc
                                           
                                           ;--------------------------------------------------------------------
                                           ; Flag Define
                                           #define     ModeInit                WorkFlag,0
                                           #define     ResetFlag               WorkFlag,1
                                           #define     KeyLowFlag2             WorkFlag,2
                                           #define     KeyHighFlag2            WorkFlag,3
                                           #define     KeyTrigFlag2            WorkFlag,4
                                           #define     KeyLowFlag1             WorkFlag,5
                                           #define     KeyHighFlag1            WorkFlag,6
                                           #define     KeyTrigFlag1            WorkFlag,7
                                           
                                           #define     PowerOnFlag1            WorkFlag1,0
                                           #define	 	 	PowerOnFlag2 	 	 	 	 	 	WorkFlag1,1
                                           #define     PowerStableFlag         WorkFlag1,2
                                           #define     ResetClrFlag1           WorkFlag1,3
                                           #define	 	 	ResetClrFlag2	 	 	 	 	 	WorkFlag1,4
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; Programm & Interrupt Entrance
                                              	org	   	    0x03ff
0003ff   2813     goto    0x13                	goto   	    _Start
                                              	org	   	    0x08
000008   2809     goto    0x9                 	goto   	    _Interrupt
                                           
                                           ;--------------------------------------------------------------------
                                           ; Interrupt Code
                                           _Interrupt:
000009   1591     movra   0x11                	movra  	   	AccTemp
00000a   1103     swapar  0x3                  swapar 	   	STATUS
00000b   1590     movra   0x10                 movra  	   	StatusTemp
                                           
                                           
                                           _Interrupt_Exit:
00000c   1d8f     clrr    0xf                 	clrr   	   	INTFLAG
00000d   3c8f     bclr    0xf, 0x1             bclr        KBIF
00000e   1110     swapar  0x10                	swapar 	   	StatusTemp
00000f   1583     movra   0x3                  movra  	   	STATUS
000010   1191     swapr   0x11                 swapr  	   	AccTemp
000011   1111     swapar  0x11                 swapar 	   	AccTemp
000012   000d     retie                       	RETIE
                                           
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; MCU Config
                                           _Start:
000013   1d8e     clrr    0xe                 	clrr   	INTECON             ;interrupt
000014   1d88     clrr    0x8                 	clrr    MCR    	   	   	   	;watch dog
                                           
000015   0b03     movai   0x3                 	movai   b'00000011'
000016   15c6     movra   0x46                	movra   DDR1   	   	   	   	;P14 P15 output P10 P11 input
000017   0b30     movai   0x30                 movai   b'00110000'
000018   158c     movra   0xc                 	movra   ODCON  	   	   	   	;output open-drain
000019   0bcc     movai   0xcc              	 	movai  	b'11001100'
00001a   158d     movra   0xd                 	movra   PUCON	 	 	 	 	 	 	 	;P10 P11 up-pull
                                           
                                           
00001b   0b02     movai   0x2                 	movai  	0x02
00001c   15c1     movra   0x41                	movra  	T0CR   	   	   	   	;uping edge, Ft0 = Fcpu, Pre for T0, Ft=8/2/8=0.5M Tt=2us  (2T)
00001d   0b38     movai   0x38                	movai   56
00001e   1581     movra   0x1                 	movra   T0CNT               ;time0 - 200  200 * 2 = 400us
                                           
                                           
00001f   3b88     bset    0x8, 0x7            	bset   	WDTEN
000020   000e     clrwdt                      	CLRWDT 	   	   	   	   	   	; Clear the watch dog timer count
                                           
000021   0b3f     movai   0x3f                	movai   0x3f
000022   1584     movra   0x4                 	movra   FSR
000023   2824     goto    0x24                	goto    _Ram_clear
                                           
                                           
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; Parameters Initialize
                                           _Ram_clear:
000024   1d80     clrr    0                   	clrr    INDF
000025   1b84     decr    0x4                 	decr    FSR
000026   0bd0     movai   0xd0                	movai   0xd0
000027   1204     rsubar  0x4                 	rsubar  FSR
000028   3403     jbclr   0x3, 0              	jbclr   C
000029   2824     goto    0x24                	goto    _Ram_clear
00002a   282b     goto    0x2b                	goto    _User_Init
                                           
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; User Data Initialize
                                           _User_Init:
00002b   3a06     bset    0x6, 0x4             bset    PORT_SWITCH_1
00002c   3a86     bset    0x6, 0x5             bset    PORT_SWITCH_2
00002d   282e     goto    0x2e                	goto    Main
                                           
                                           
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; Main Code
                                           Main:
00002e   300f     jbset   0xf, 0              	jbset   T0IF
00002f   282e     goto    0x2e                	goto    Main
000030   3c0f     bclr    0xf, 0              	bclr    T0IF
                                           
000031   0b38     movai   0x38                	movai   56
000032   1581     movra   0x1                 	movra   T0CNT  	   	   	   	; scan each 200us
                                           
000033   000e     clrwdt                      	CLRWDT 	   	   	   	   	   	;clear the WDT timer count
                                           
                                           ;  	jbclr   PORT_OUT
                                           ;  	goto    $+3
                                           ;  	bset    PORT_OUT
                                           ;  	goto    $+2
                                           ;  	bclr    PORT_OUT
                                           ;  	goto    Main
                                           
000034   2835     goto    0x35                	goto   	Power_Stability
                                           
                                           ;--------------------------------------------------------------------
                                           ;Wait the power stability
                                           ;--------------------------------------------------------------------
                                           Power_Stability:
000035   3513     jbclr   0x13, 0x2            jbclr   PowerStableFlag
000036   284d     goto    0x4d                 goto    Power_Stability_Exit
                                           
000037   3406     jbclr   0x6, 0               jbclr   PORT_KEY_1
000038   283a     goto    0x3a                 goto    High_Stability
000039   2843     goto    0x43                 goto    Low_Stability
                                           
                                           High_Stability:
00003a   1d98     clrr    0x18                 clrr    PowerLowTime
                                           
00003b   1999     incr    0x19                 incr    PowerHighTime
00003c   0bc8     movai   0xc8                 movai   200           ;80ms
00003d   1219     rsubar  0x19                 rsubar  PowerHighTime
00003e   3003     jbset   0x3, 0               jbset   C
00003f   284c     goto    0x4c                 goto    Power_Stability_Ret
                                           
000040   1d99     clrr    0x19                 clrr    PowerHighTime
000041   3913     bset    0x13, 0x2            bset    PowerStableFlag
000042   284c     goto    0x4c                 goto    Power_Stability_Ret
                                           
                                           Low_Stability:
000043   1d99     clrr    0x19                 clrr    PowerHighTime
                                           
000044   1998     incr    0x18                 incr    PowerLowTime
000045   0bc8     movai   0xc8                 movai   200
000046   1218     rsubar  0x18                 rsubar  PowerLowTime
000047   3003     jbset   0x3, 0               jbset   C
000048   284c     goto    0x4c                 goto    Power_Stability_Ret
                                           
000049   1d98     clrr    0x18                 clrr    PowerLowTime
00004a   3913     bset    0x13, 0x2            bset    PowerStableFlag
00004b   284c     goto    0x4c                 goto    Power_Stability_Ret
                                           
                                           Power_Stability_Ret:
00004c   282e     goto    0x2e                 goto    Main
                                           
                                           
                                           Power_Stability_Exit:
00004d   284e     goto    0x4e                 goto    Key_Scan_1
                                           
                                           ;--------------------------------------------------------------------
                                           ; Scan the key 1 status
                                           ;--------------------------------------------------------------------
                                           Key_Scan_1:
00004e   3406     jbclr   0x6, 0               jbclr   PORT_KEY_1
00004f   2851     goto    0x51                 goto    Key_High_1
000050   2861     goto    0x61                 goto    Key_Low_1
                                           
                                           Key_High_1:
000051   1d94     clrr    0x14                 clrr    LowTime1
                                           
000052   3712     jbclr   0x12, 0x6            jbclr   KeyHighFlag1
000053   2873     goto    0x73                 goto    Key_Scan_Exit_1
                                           
000054   1995     incr    0x15                 incr    HighTime1
000055   0b64     movai   0x64                 movai   100
000056   1215     rsubar  0x15                 rsubar  HighTime1
000057   3003     jbset   0x3, 0               jbset   C
000058   2873     goto    0x73                 goto    Key_Scan_Exit_1
                                           
000059   1d95     clrr    0x15                 clrr   HighTime1
00005a   3b12     bset    0x12, 0x6            bset    KeyHighFlag1
00005b   3e92     bclr    0x12, 0x5            bclr    KeyLowFlag1
00005c   3013     jbset   0x13, 0           	 	jbset	 	PowerOnFlag1
00005d   2871     goto    0x71              	 	goto 	 	Key_Power_On_1
                                           
00005e   3b92     bset    0x12, 0x7            bset    KeyTrigFlag1
00005f   19a0     incr    0x20                 incr    KeyNum1
000060   2873     goto    0x73                 goto    Key_Scan_Exit_1
                                           
                                           Key_Low_1:
000061   1d95     clrr    0x15                 clrr    HighTime1
                                           
000062   3692     jbclr   0x12, 0x5            jbclr   KeyLowFlag1
000063   2873     goto    0x73                 goto    Key_Scan_Exit_1
                                           
000064   1994     incr    0x14                 incr    LowTime1
000065   0b64     movai   0x64                 movai   100
000066   1214     rsubar  0x14                 rsubar  LowTime1
000067   3003     jbset   0x3, 0               jbset   C
000068   2873     goto    0x73                 goto    Key_Scan_Exit_1
                                           
000069   1d94     clrr    0x14                 clrr    LowTime1
00006a   3a92     bset    0x12, 0x5            bset    KeyLowFlag1
00006b   3f12     bclr    0x12, 0x6            bclr    KeyHighFlag1
00006c   3013     jbset   0x13, 0           	 	jbset	 	PowerOnFlag1
00006d   2871     goto    0x71              	 	goto 	 	Key_Power_On_1
                                           
00006e   3b92     bset    0x12, 0x7            bset    KeyTrigFlag1
00006f   19a0     incr    0x20                 incr    KeyNum1
000070   2873     goto    0x73                 goto    Key_Scan_Exit_1
                                           
                                           Key_Power_On_1:
000071   3813     bset    0x13, 0           	 	bset 	 	PowerOnFlag1
000072   2873     goto    0x73              	 	goto 	 	Key_Scan_Exit_1
                                           
                                           Key_Scan_Exit_1:
000073   2874     goto    0x74                 goto    Key_Scan_2
                                           
                                           
                                           ;--------------------------------------------------------------------
                                           ; Scan the key 2 status
                                           ;--------------------------------------------------------------------
                                           Key_Scan_2:
000074   3486     jbclr   0x6, 0x1             jbclr   PORT_KEY_2
000075   2877     goto    0x77                 goto    Key_High_2
000076   2887     goto    0x87                 goto    Key_Low_2
                                           
                                           Key_High_2:
000077   1d96     clrr    0x16                 clrr    LowTime2
                                           
000078   3592     jbclr   0x12, 0x3            jbclr   KeyHighFlag2
000079   2899     goto    0x99                 goto    Key_Scan_Exit_2
                                           
00007a   1997     incr    0x17                 incr    HighTime2
00007b   0b64     movai   0x64                 movai   100
00007c   1217     rsubar  0x17                 rsubar  HighTime2
00007d   3003     jbset   0x3, 0               jbset   C
00007e   2899     goto    0x99                 goto    Key_Scan_Exit_2
                                           
00007f   1d97     clrr    0x17                 clrr    HighTime2
000080   3992     bset    0x12, 0x3            bset    KeyHighFlag2
000081   3d12     bclr    0x12, 0x2            bclr    KeyLowFlag2
000082   3093     jbset   0x13, 0x1         	 	jbset	 	PowerOnFlag2
000083   2897     goto    0x97              	 	goto 	 	Key_Power_On_2
                                           
000084   3a12     bset    0x12, 0x4            bset    KeyTrigFlag2
000085   19a1     incr    0x21                 incr    KeyNum2
000086   2899     goto    0x99                 goto    Key_Scan_Exit_2
                                           
                                           Key_Low_2:
000087   1d97     clrr    0x17                 clrr    HighTime2
                                           
000088   3512     jbclr   0x12, 0x2            jbclr   KeyLowFlag2
000089   2899     goto    0x99                 goto    Key_Scan_Exit_2
                                           
00008a   1996     incr    0x16                 incr    LowTime2
00008b   0b64     movai   0x64                 movai   100
00008c   1216     rsubar  0x16                 rsubar  LowTime2
00008d   3003     jbset   0x3, 0               jbset   C
00008e   2899     goto    0x99                 goto    Key_Scan_Exit_2
                                           
00008f   1d96     clrr    0x16                 clrr    LowTime2
000090   3912     bset    0x12, 0x2            bset    KeyLowFlag2
000091   3d92     bclr    0x12, 0x3            bclr    KeyHighFlag2
000092   3093     jbset   0x13, 0x1         	 	jbset	 	PowerOnFlag2
000093   2897     goto    0x97              	 	goto 	 	Key_Power_On_2
                                           
000094   3a12     bset    0x12, 0x4            bset    KeyTrigFlag2
000095   19a1     incr    0x21                 incr    KeyNum2
000096   2899     goto    0x99                 goto    Key_Scan_Exit_2
                                           
                                           Key_Power_On_2:
000097   3893     bset    0x13, 0x1         	 	bset 	 	PowerOnFlag2
000098   2899     goto    0x99              	 	goto 	 	Key_Scan_Exit_2
                                           
                                           Key_Scan_Exit_2:
000099   289a     goto    0x9a                 goto    Mode_Change_1
                                           
                                           ;---------------------------------------------------------------------
                                           Mode_Change_1:
00009a   3492     jbclr   0x12, 0x1         	 	jbclr  	ResetFlag
00009b   28a7     goto    0xa7              	 	goto 	 	Mode_Change_None_1
                                           
00009c   3392     jbset   0x12, 0x7            jbset   KeyTrigFlag1
00009d   28a8     goto    0xa8                 goto    Mode_Change_Exit_1
                                           
00009e   3e06     bclr    0x6, 0x4             bclr    PORT_SWITCH_1
00009f   19a2     incr    0x22                 incr    KeyTime1
0000a0   0bc8     movai   0xc8                 movai   200
0000a1   1222     rsubar  0x22                 rsubar  KeyTime1
0000a2   3003     jbset   0x3, 0               jbset   C
0000a3   28a8     goto    0xa8                 goto    Mode_Change_Exit_1
                                           
0000a4   3f92     bclr    0x12, 0x7            bclr    KeyTrigFlag1
0000a5   3a06     bset    0x6, 0x4             bset    PORT_SWITCH_1
0000a6   28a7     goto    0xa7                 goto    Mode_Change_None_1
                                           
                                           Mode_Change_None_1:
0000a7   1da2     clrr    0x22                 clrr    KeyTime1
                                           
                                           Mode_Change_Exit_1:
0000a8   28a9     goto    0xa9                 goto    Mode_Change_2
                                           
                                           ;---------------------------------------------------------------------
                                           Mode_Change_2:
0000a9   3492     jbclr   0x12, 0x1            jbclr  	ResetFlag
0000aa   28b5     goto    0xb5                 goto 	 	Mode_Change_None_2
                                           
0000ab   3212     jbset   0x12, 0x4            jbset   KeyTrigFlag2
0000ac   28b7     goto    0xb7                 goto    Mode_Change_Exit_2
                                           
0000ad   3e86     bclr    0x6, 0x5             bclr    PORT_SWITCH_2
0000ae   19a3     incr    0x23                 incr    KeyTime2
0000af   0bc8     movai   0xc8                 movai   200
0000b0   1223     rsubar  0x23                 rsubar  KeyTime2
0000b1   3003     jbset   0x3, 0               jbset   C
0000b2   28b7     goto    0xb7                 goto    Mode_Change_Exit_2
                                           
0000b3   3e12     bclr    0x12, 0x4            bclr    KeyTrigFlag2
0000b4   28b5     goto    0xb5                 goto    Mode_Change_None_2
                                           
                                           Mode_Change_None_2:
0000b5   3a86     bset    0x6, 0x5          	 	bset    PORT_SWITCH_2
0000b6   1da3     clrr    0x23                 clrr    KeyTime2
                                           
                                           Mode_Change_Exit_2:
0000b7   28b8     goto    0xb8                 goto    Reset_Det_1
                                           
                                           ;---------------------------------------------------------------------
                                           Reset_Det_1:
0000b8   16a0     movr    0x20                 movr    KeyNum1
0000b9   3503     jbclr   0x3, 0x2             jbclr   Z
0000ba   28c7     goto    0xc7                 goto    Reset_Det_None_1
                                           
0000bb   3492     jbclr   0x12, 0x1         	 	jbclr  	ResetFlag
0000bc   28c7     goto    0xc7              	 	goto 	 	Reset_Det_None_1
                                           
0000bd   20cd     call    0xcd                 call    Reset_Time_Clear_1
                                           
0000be   3593     jbclr   0x13, 0x3            jbclr   ResetClrFlag1
0000bf   28c7     goto    0xc7                 goto    Reset_Det_None_1
                                           
0000c0   0b0c     movai   0xc                  movai   12
0000c1   1220     rsubar  0x20                 rsubar  KeyNum1
0000c2   3003     jbset   0x3, 0               jbset   C
0000c3   28cc     goto    0xcc                 goto    Reset_Det_Exit_1
                                           
0000c4   1da0     clrr    0x20                 clrr    KeyNum1
0000c5   3892     bset    0x12, 0x1         	 	bset 	 	ResetFlag
0000c6   28cc     goto    0xcc                 goto    Reset_Det_Exit_1
                                           
                                           Reset_Det_None_1:
0000c7   3d93     bclr    0x13, 0x3            bclr    ResetClrFlag1
0000c8   1d9c     clrr    0x1c                 clrr    ResetTime1_1
0000c9   1d9d     clrr    0x1d                 clrr    ResetTime2_1
0000ca   1da0     clrr    0x20              	 	clrr 	 	KeyNum1
0000cb   28cc     goto    0xcc                 goto    Reset_Det_Exit_1
                                           
                                           Reset_Det_Exit_1:
0000cc   28dc     goto    0xdc                 goto    Reset_Det_2
                                           
                                           
                                           Reset_Time_Clear_1:
0000cd   199c     incr    0x1c                 incr    ResetTime1_1
0000ce   0bfa     movai   0xfa                 movai   250         ;100ms
0000cf   121c     rsubar  0x1c                 rsubar  ResetTime1_1
0000d0   3003     jbset   0x3, 0               jbset   C
0000d1   28da     goto    0xda                 goto    Reset_Time_Clear_Cnt_1
                                           
0000d2   1d9c     clrr    0x1c                 clrr    ResetTime1_1
0000d3   199d     incr    0x1d                 incr    ResetTime2_1
0000d4   0b1e     movai   0x1e                 movai   30        ;3s
0000d5   121d     rsubar  0x1d                 rsubar  ResetTime2_1
0000d6   3003     jbset   0x3, 0               jbset   C
0000d7   28da     goto    0xda                 goto    Reset_Time_Clear_Cnt_1
                                           
0000d8   3993     bset    0x13, 0x3            bset    ResetClrFlag1
0000d9   000c     return                       return
                                           
                                           Reset_Time_Clear_Cnt_1:
0000da   3d93     bclr    0x13, 0x3            bclr   ResetClrFlag1
0000db   000c     return                       return
                                           
                                           ;---------------------------------------------------------------------
                                           Reset_Det_2:
0000dc   16a1     movr    0x21                 movr    KeyNum2
0000dd   3503     jbclr   0x3, 0x2             jbclr   Z
0000de   28eb     goto    0xeb                 goto    Reset_Det_None_2
                                           
0000df   3492     jbclr   0x12, 0x1         	 	jbclr  	ResetFlag
0000e0   28eb     goto    0xeb              	 	goto 	 	Reset_Det_None_2
                                           
0000e1   20f1     call    0xf1                 call    Reset_Time_Clear_2
                                           
0000e2   3613     jbclr   0x13, 0x4            jbclr   ResetClrFlag2
0000e3   28eb     goto    0xeb                 goto    Reset_Det_None_2
                                           
0000e4   0b0c     movai   0xc                  movai   12
0000e5   1221     rsubar  0x21                 rsubar  KeyNum2
0000e6   3003     jbset   0x3, 0               jbset   C
0000e7   28f0     goto    0xf0                 goto    Reset_Det_Exit_2
                                           
0000e8   1da1     clrr    0x21                 clrr    KeyNum2
0000e9   3892     bset    0x12, 0x1         	 	bset 	 	ResetFlag
0000ea   28f0     goto    0xf0                 goto    Reset_Det_Exit_2
                                           
                                           Reset_Det_None_2:
0000eb   3d93     bclr    0x13, 0x3            bclr    ResetClrFlag1
0000ec   1d9e     clrr    0x1e                 clrr    ResetTime1_2
0000ed   1d9f     clrr    0x1f                 clrr    ResetTime2_2
0000ee   1da1     clrr    0x21              	 	clrr 	 	KeyNum2
0000ef   28f0     goto    0xf0                 goto    Reset_Det_Exit_2
                                           
                                           Reset_Det_Exit_2:
0000f0   2900     goto    0x100                goto    Reset_Control
                                           
                                           
                                           Reset_Time_Clear_2:
0000f1   199e     incr    0x1e                 incr    ResetTime1_2
0000f2   0bfa     movai   0xfa                 movai   250         ;100ms
0000f3   121e     rsubar  0x1e                 rsubar  ResetTime1_2
0000f4   3003     jbset   0x3, 0               jbset   C
0000f5   28fe     goto    0xfe                 goto    Reset_Time_Clear_Cnt_2
                                           
0000f6   1d9e     clrr    0x1e                 clrr    ResetTime1_2
0000f7   199f     incr    0x1f                 incr    ResetTime2_2
0000f8   0b1e     movai   0x1e                 movai   30        ;3s
0000f9   121f     rsubar  0x1f                 rsubar  ResetTime2_2
0000fa   3003     jbset   0x3, 0               jbset   C
0000fb   28fe     goto    0xfe                 goto    Reset_Time_Clear_Cnt_2
                                           
0000fc   3a13     bset    0x13, 0x4            bset    ResetClrFlag2
0000fd   000c     return                       return
                                           
                                           Reset_Time_Clear_Cnt_2:
0000fe   3e13     bclr    0x13, 0x4            bclr   ResetClrFlag2
0000ff   000c     return                       return
                                           
                                           ;---------------------------------------------------------------------
                                           Reset_Control:
000100   3092     jbset   0x12, 0x1            jbset   ResetFlag
000101   2912     goto    0x112                goto    Reset_Control_None
                                           
000102   3e06     bclr    0x6, 0x4             bclr    PORT_SWITCH_1
000103   199a     incr    0x1a                 incr    ResetTime1
000104   0bfa     movai   0xfa                 movai   250         ;100ms
000105   121a     rsubar  0x1a                 rsubar  ResetTime1
000106   3003     jbset   0x3, 0               jbset   C
000107   2914     goto    0x114                goto    Mode_Control_Exit
                                           
000108   1d9a     clrr    0x1a                 clrr    ResetTime1
000109   199b     incr    0x1b                 incr    ResetTime2
00010a   0b32     movai   0x32                 movai   50          ;5s
00010b   121b     rsubar  0x1b                 rsubar  ResetTime2
00010c   3003     jbset   0x3, 0               jbset   C
00010d   2914     goto    0x114                goto    Mode_Control_Exit
                                           
00010e   1d9b     clrr    0x1b                 clrr    ResetTime2
00010f   3c92     bclr    0x12, 0x1         	 	bclr 	 	ResetFlag
000110   3a06     bset    0x6, 0x4             bset    PORT_SWITCH_1
000111   2914     goto    0x114                goto    Mode_Control_Exit
                                           
                                           Reset_Control_None:
000112   1d9a     clrr    0x1a                 clrr    ResetTime1
000113   1d9b     clrr    0x1b                 clrr    ResetTime2
                                           
                                           Mode_Control_Exit:
000114   282e     goto    0x2e                	goto   	Main
                                           
                                           
                                           
                                           
                                           
                                           
                                           
                                           ;--------------------------------------------------------------------
                                              	end


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

0000 : ---------------- XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0180 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
01C0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
0200 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXX------ ----------------
07C0 : ---------------- ---------------- ---------------- --------------XX

All other memory blocks unused.

Program Memory Words Used:   270

